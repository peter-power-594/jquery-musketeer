!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Barba",[],e):"object"==typeof exports?exports.Barba=e():t.Barba=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="http://localhost:8080/dist",e(0)}([function(t,e,n){"function"!=typeof Promise&&(window.Promise=n(1));var r={version:"1.0.0",BaseTransition:n(4),BaseView:n(6),BaseCache:n(8),Dispatcher:n(7),HistoryManager:n(9),Pjax:n(10),Prefetch:n(13),Utils:n(5)};t.exports=r},function(t,e,n){(function(e){!function(n){function r(){}function i(t,e){return function(){t.apply(e,arguments)}}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function s(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void l(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?a:c)(e.promise,t._value);var r;try{r=n(t._value)}catch(t){return void c(e.promise,t)}a(e.promise,r)}))}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void h(i(n,e),t)}t._state=1,t._value=e,u(t)}catch(e){c(t,e)}}function c(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&l(function(){t._handled||p(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)s(t,t._deferreds[e]);t._deferreds=null}function f(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,c(e,t))})}catch(t){if(n)return;n=!0,c(e,t)}}var d=setTimeout,l="function"==typeof e&&e||function(t){d(t,0)},p=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(r);return s(this,new f(t,e,n)),n},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function r(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,function(t){r(o,t)},n)}e[o]=s,0===--i&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o._setImmediateFn=function(t){l=t},o._setUnhandledRejectionFn=function(t){p=t},"undefined"!=typeof t&&t.exports?t.exports=o:n.Promise||(n.Promise=o)}(this)}).call(e,n(2).setImmediate)},function(t,e,n){(function(t,r){function i(t,e){this._id=t,this._clearFn=e}var o=n(3).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,c={},u=0;e.setTimeout=function(){return new i(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=u++,r=!(arguments.length<2)&&a.call(arguments,1);return c[n]=!0,o(function(){c[n]&&(r?t.apply(null,r):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof r?r:function(t){delete c[t]}}).call(e,n(2).setImmediate,n(2).clearImmediate)},function(t,e){function n(){h&&u&&(h=!1,u.length?f=u.concat(f):d=-1,f.length&&r())}function r(){if(!h){var t=s(n);h=!0;for(var e=f.length;e;){for(u=f,f=[];++d<e;)u&&u[d].run();d=-1,e=f.length}u=null,h=!1,a(t)}}function i(t,e){this.fun=t,this.array=e}function o(){}var s,a,c=t.exports={};!function(){try{s=setTimeout}catch(t){s=function(){throw new Error("setTimeout is not defined")}}try{a=clearTimeout}catch(t){a=function(){throw new Error("clearTimeout is not defined")}}}();var u,f=[],h=!1,d=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new i(t,e)),1!==f.length||h||s(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=o,c.addListener=o,c.once=o,c.off=o,c.removeListener=o,c.removeAllListeners=o,c.emit=o,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(t,e,n){var r=n(5),i={oldContainer:void 0,newContainer:void 0,newContainerLoading:void 0,extend:function(t){return r.extend(this,t)},init:function(t,e){var n=this;return this.oldContainer=t,this._newContainerPromise=e,this.deferred=r.deferred(),this.newContainerReady=r.deferred(),this.newContainerLoading=this.newContainerReady.promise,this.start(),this._newContainerPromise.then(function(t){n.newContainer=t,n.newContainerReady.resolve()}),this.deferred.promise},done:function(){this.oldContainer.parentNode.removeChild(this.oldContainer),this.newContainer.style.visibility="visible",this.deferred.resolve()},start:function(){}};t.exports=i},function(t,e){var n={getCurrentUrl:function(){return window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search},cleanLink:function(t){return t.replace(/#.*/,"")},xhrTimeout:5e3,xhr:function(t){var e=this.deferred(),n=new XMLHttpRequest;return n.onreadystatechange=function(){if(4===n.readyState)return 200===n.status?e.resolve(n.responseText):e.reject(new Error("xhr: HTTP code is not 200"))},n.ontimeout=function(){return e.reject(new Error("xhr: Timeout exceeded"))},n.open("GET",t),n.timeout=this.xhrTimeout,n.setRequestHeader("x-barba","yes"),n.send(),e.promise},extend:function(t,e){var n=Object.create(t);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},deferred:function(){return new function(){this.resolve=null,this.reject=null,this.promise=new Promise(function(t,e){this.resolve=t,this.reject=e}.bind(this))}},getPort:function(t){var e="undefined"!=typeof t?t:window.location.port,n=window.location.protocol;return""!=e?parseInt(e):"http:"===n?80:"https:"===n?443:void 0}};t.exports=n},function(t,e,n){var r=n(7),i=n(5),o={namespace:null,extend:function(t){return i.extend(this,t)},init:function(){var t=this;r.on("initStateChange",function(e,n){n&&n.namespace===t.namespace&&t.onLeave()}),r.on("newPageReady",function(e,n,r){t.container=r,e.namespace===t.namespace&&t.onEnter()}),r.on("transitionCompleted",function(e,n){e.namespace===t.namespace&&t.onEnterCompleted(),n&&n.namespace===t.namespace&&t.onLeaveCompleted()})},onEnter:function(){},onEnterCompleted:function(){},onLeave:function(){},onLeaveCompleted:function(){}};t.exports=o},function(t,e){var n={events:{},on:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},off:function(t,e){t in this.events!=!1&&this.events[t].splice(this.events[t].indexOf(e),1)},trigger:function(t){if(t in this.events!=!1)for(var e=0;e<this.events[t].length;e++)this.events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}};t.exports=n},function(t,e,n){var r=n(5),i={data:{},extend:function(t){return r.extend(this,t)},set:function(t,e){this.data[t]=e},get:function(t){return this.data[t]},reset:function(){this.data={}}};t.exports=i},function(t,e){var n={history:[],add:function(t,e){e||(e=void 0),this.history.push({url:t,namespace:e})},currentStatus:function(){return this.history[this.history.length-1]},prevStatus:function(){var t=this.history;return t.length<2?null:t[t.length-2]}};t.exports=n},function(t,e,n){var r=n(5),i=n(7),o=n(11),s=n(8),a=n(9),c=n(12),u={Dom:c,History:a,Cache:s,cacheEnabled:!0,transitionProgress:!1,ignoreClassLink:"no-barba",start:function(){this.init()},init:function(){var t=this.Dom.getContainer(),e=this.Dom.getWrapper();e.setAttribute("aria-live","polite"),this.History.add(this.getCurrentUrl(),this.Dom.getNamespace(t)),i.trigger("initStateChange",this.History.currentStatus()),i.trigger("newPageReady",this.History.currentStatus(),{},t,this.Dom.currentHTML),i.trigger("transitionCompleted",this.History.currentStatus()),this.bindEvents()},bindEvents:function(){document.addEventListener("click",this.onLinkClick.bind(this)),window.addEventListener("popstate",this.onStateChange.bind(this))},getCurrentUrl:function(){return r.cleanLink(r.getCurrentUrl())},goTo:function(t){window.history.pushState(null,null,t),this.onStateChange()},forceGoTo:function(t){window.location=t},load:function(t){var e,n=r.deferred(),i=this;return e=this.Cache.get(t),e||(e=r.xhr(t),this.Cache.set(t,e)),e.then(function(t){var e=i.Dom.parseResponse(t);i.Dom.putContainer(e),i.cacheEnabled||i.Cache.reset(),n.resolve(e)},function(){i.forceGoTo(t),n.reject()}),n.promise},getHref:function(t){if(t)return t.getAttribute&&"string"==typeof t.getAttribute("xlink:href")?t.getAttribute("xlink:href"):"string"==typeof t.href?t.href:void 0},onLinkClick:function(t){for(var e=t.target;e&&!this.getHref(e);)e=e.parentNode;if(this.preventCheck(t,e)){t.stopPropagation(),t.preventDefault(),i.trigger("linkClicked",e,t);var n=this.getHref(e);this.goTo(n)}},preventCheck:function(t,e){if(!window.history.pushState)return!1;var n=this.getHref(e);return!(!e||!n)&&(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)&&((!e.target||"_blank"!==e.target)&&(window.location.protocol===e.protocol&&window.location.hostname===e.hostname&&(r.getPort()===r.getPort(e.port)&&(!(n.indexOf("#")>-1)&&((!e.getAttribute||"string"!=typeof e.getAttribute("download"))&&(r.cleanLink(n)!=r.cleanLink(location.href)&&!e.classList.contains(this.ignoreClassLink))))))))},getTransition:function(){return o},onStateChange:function(){var t=this.getCurrentUrl();if(this.transitionProgress&&this.forceGoTo(t),this.History.currentStatus().url===t)return!1;this.History.add(t);var e=this.load(t),n=Object.create(this.getTransition());this.transitionProgress=!0,i.trigger("initStateChange",this.History.currentStatus(),this.History.prevStatus());var r=n.init(this.Dom.getContainer(),e);e.then(this.onNewContainerLoaded.bind(this)),r.then(this.onTransitionEnd.bind(this))},onNewContainerLoaded:function(t){var e=this.History.currentStatus();e.namespace=this.Dom.getNamespace(t),i.trigger("newPageReady",this.History.currentStatus(),this.History.prevStatus(),t,this.Dom.currentHTML)},onTransitionEnd:function(){this.transitionProgress=!1,i.trigger("transitionCompleted",this.History.currentStatus(),this.History.prevStatus())}};t.exports=u},function(t,e,n){var r=n(4),i=r.extend({start:function(){this.newContainerLoading.then(this.finish.bind(this))},finish:function(){document.body.scrollTop=0,this.done()}});t.exports=i},function(t,e){var n={dataNamespace:"namespace",wrapperId:"barba-wrapper",containerClass:"barba-container",currentHTML:document.documentElement.innerHTML,parseResponse:function(t){this.currentHTML=t;var e=document.createElement("div");e.innerHTML=t;var n=e.querySelector("title");return n&&(document.title=n.textContent),this.getContainer(e)},getWrapper:function(){var t=document.getElementById(this.wrapperId);if(!t)throw new Error("Barba.js: wrapper not found!");return t},getContainer:function(t){if(t||(t=document.body),!t)throw new Error("Barba.js: DOM not ready!");var e=this.parseContainer(t);if(e&&e.jquery&&(e=e[0]),!e)throw new Error("Barba.js: no container found");return e},getNamespace:function(t){return t&&t.dataset?t.dataset[this.dataNamespace]:t?t.getAttribute("data-"+this.dataNamespace):null},putContainer:function(t){t.style.visibility="hidden";var e=this.getWrapper();e.appendChild(t)},parseContainer:function(t){return t.querySelector("."+this.containerClass)}};t.exports=n},function(t,e,n){var r=n(5),i=n(10),o={ignoreClassLink:"no-barba-prefetch",init:function(){return!!window.history.pushState&&(document.body.addEventListener("mouseover",this.onLinkEnter.bind(this)),void document.body.addEventListener("touchstart",this.onLinkEnter.bind(this)))},onLinkEnter:function(t){for(var e=t.target;e&&!i.getHref(e);)e=e.parentNode;if(e&&!e.classList.contains(this.ignoreClassLink)){var n=i.getHref(e);if(i.preventCheck(t,e)&&!i.Cache.get(n)){var o=r.xhr(n);i.Cache.set(n,o)}}}};t.exports=o}])});
!function(){"use strict";var e=window.jQuery||window.$||(window.$={}),g={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||(String.prototype.evalJSON?function(e){return String(e).evalJSON()}:e.parseJSON)||e.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||e.toJSON};if("function"!=typeof g.parse||"function"!=typeof g.stringify)throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var s,u={__yaJsStorage_meta:{CRC32:{}}},i={yaJsStorage:"{}"},c=null,r=0,_=!1,l={},t=!1,S=0,y={},d=+new Date,o={isXML:function(e){e=(e?e.ownerDocument||e:0).documentElement;return!!e&&"HTML"!==e.nodeName},encode:function(t){if(this.isXML(t))try{return(new XMLSerializer).serializeToString(t)}catch(e){try{return t.xml}catch(e){}}return!1},decode:function(e){var t="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t};return!!t&&(t=t.call("DOMParser"in window&&new DOMParser||window,e,"text/xml"),!!this.isXML(t))&&t}};function f(){var e="{}";if("userDataBehavior"==_){c.load("yaJsStorage");try{e=c.getAttribute("yaJsStorage")}catch(e){}try{S=c.getAttribute("yaJsStorage_update")}catch(e){}i.yaJsStorage=e}n(),p(),b()}function a(){var n;clearTimeout(t),t=setTimeout(function(){if("localStorage"==_||"globalStorage"==_)n=i.yaJsStorage_update;else if("userDataBehavior"==_){c.load("yaJsStorage");try{n=c.getAttribute("yaJsStorage_update")}catch(e){}}if(n&&n!=S){S=n;var e,t=g.parse(g.stringify(u.__yaJsStorage_meta.CRC32));f(),e=g.parse(g.stringify(u.__yaJsStorage_meta.CRC32));var a,r=[],o=[];for(a in t)t.hasOwnProperty(a)&&(e[a]?t[a]!=e[a]&&"2."==String(t[a]).substr(0,2)&&r.push(a):o.push(a));for(a in e)!e.hasOwnProperty(a)||t[a]||r.push(a);w(r,"updated"),w(o,"deleted")}},25)}function w(e,t){var a,r,o,n;if(e=[].concat(e||[]),"flushed"==t){for(var i in e=[],l)l.hasOwnProperty(i)&&e.push(i);t="deleted"}for(a=0,o=e.length;a<o;a++){if(l[e[a]])for(r=0,n=l[e[a]].length;r<n;r++)l[e[a]][r](e[a],t);if(l["*"])for(r=0,n=l["*"].length;r<n;r++)l["*"][r](e[a],t)}}function J(){var e=(+new Date).toString();if("localStorage"==_||"globalStorage"==_)try{i.yaJsStorage_update=e}catch(e){_=!1}else"userDataBehavior"==_&&(c.setAttribute("yaJsStorage_update",e),c.save("yaJsStorage"));a()}function n(){if(i.yaJsStorage)try{u=g.parse(String(i.yaJsStorage))}catch(e){i.yaJsStorage="{}"}else i.yaJsStorage="{}";r=i.yaJsStorage?String(i.yaJsStorage).length:0,u.__yaJsStorage_meta||(u.__yaJsStorage_meta={}),u.__yaJsStorage_meta.CRC32||(u.__yaJsStorage_meta.CRC32={})}function h(){if(u.__yaJsStorage_meta.PubSub){for(var e=+new Date-2e3,t=0,a=u.__yaJsStorage_meta.PubSub.length;t<a;t++)if(u.__yaJsStorage_meta.PubSub[t][0]<=e){u.__yaJsStorage_meta.PubSub.splice(t,u.__yaJsStorage_meta.PubSub.length-t);break}u.__yaJsStorage_meta.PubSub.length||delete u.__yaJsStorage_meta.PubSub}try{i.yaJsStorage=g.stringify(u),c&&(c.setAttribute("yaJsStorage",i.yaJsStorage),c.save("yaJsStorage")),r=i.yaJsStorage?String(i.yaJsStorage).length:0}catch(e){}}function m(e){if("string"!=typeof e&&"number"!=typeof e)throw new TypeError("Key name must be string or numeric");if("__yaJsStorage_meta"==e)throw new TypeError("Reserved key name")}function p(){var e,t,a,r,o=1/0,n=!1,i=[];if(clearTimeout(s),u.__yaJsStorage_meta&&"object"==typeof u.__yaJsStorage_meta.TTL){for(t in e=+new Date,a=u.__yaJsStorage_meta.TTL,r=u.__yaJsStorage_meta.CRC32,a)a.hasOwnProperty(t)&&(a[t]<=e?(delete a[t],delete r[t],delete u[t],n=!0,i.push(t)):a[t]<o&&(o=a[t]));o!=1/0&&(s=setTimeout(p,Math.min(o-e,2147483647))),n&&(h(),J(),w(i,"deleted"))}}function b(){if(u.__yaJsStorage_meta.PubSub){for(var e,t=d,a=[],r=u.__yaJsStorage_meta.PubSub.length-1;0<=r;r--)(e=u.__yaJsStorage_meta.PubSub[r])[0]>d&&(t=e[0],a.unshift(e));for(r=a.length-1;0<=r;r--){s=i=n=o=void 0;var o=a[r][1],n=a[r][2];if(y[o])for(var i=0,s=y[o].length;i<s;i++)try{y[o][i](o,g.parse(g.stringify(n)))}catch(e){}}d=t}}e=!(e.yaJsStorage={set:function(e,t,a){if(m(e),a=a||{},void 0===t)this.deleteKey(e);else{if(o.isXML(t))t={_is_xml:!0,xml:o.encode(t)};else{if("function"==typeof t)return;t&&"object"==typeof t&&(t=g.parse(g.stringify(t)))}u[e]=t,u.__yaJsStorage_meta.CRC32[e]="2."+function(e,t){for(var a,r=e.length,o=t^r,n=0;4<=r;)a=1540483477*(65535&(a=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+((1540483477*(a>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^1540483477*(65535&(a^=a>>>24))+((1540483477*(a>>>16)&65535)<<16),r-=4,++n;switch(r){case 3:o^=(255&e.charCodeAt(n+2))<<16;case 2:o^=(255&e.charCodeAt(n+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(n)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0}(g.stringify(t),2538058380),this.setTTL(e,a.TTL||0),w(e,"updated")}return t},get:function(e,t){return m(e),e in u?u[e]&&"object"==typeof u[e]&&u[e]._is_xml?o.decode(u[e].xml):u[e]:void 0===t?null:t},deleteKey:function(e){return m(e),e in u&&(delete u[e],"object"==typeof u.__yaJsStorage_meta.TTL&&e in u.__yaJsStorage_meta.TTL&&delete u.__yaJsStorage_meta.TTL[e],delete u.__yaJsStorage_meta.CRC32[e],h(),J(),w(e,"deleted"),!0)},setTTL:function(e,t){var a=+new Date;return m(e),t=Number(t)||0,e in u&&(u.__yaJsStorage_meta.TTL||(u.__yaJsStorage_meta.TTL={}),0<t?u.__yaJsStorage_meta.TTL[e]=a+t:delete u.__yaJsStorage_meta.TTL[e],h(),p(),J(),!0)},getTTL:function(e){var t=+new Date;return m(e),e in u&&u.__yaJsStorage_meta.TTL&&u.__yaJsStorage_meta.TTL[e]&&u.__yaJsStorage_meta.TTL[e]-t||0},flush:function(){return u={__yaJsStorage_meta:{CRC32:{}}},h(),J(),w(null,"flushed"),!0},storageObj:function(){function e(){}return e.prototype=u,new e},index:function(){var e,t=[];for(e in u)u.hasOwnProperty(e)&&"__yaJsStorage_meta"!=e&&t.push(e);return t},storageSize:function(){return r},currentBackend:function(){return _},storageAvailable:function(){return!!_},listenKeyChange:function(e,t){m(e),l[e]||(l[e]=[]),l[e].push(t)},stopListening:function(e,t){if(m(e),l[e])if(t)for(var a=l[e].length-1;0<=a;a--)l[e][a]==t&&l[e].splice(a,1);else delete l[e]},subscribe:function(r,o){if(r=(r||"").toString())return y[r]||(y[r]=[]),y[r].push(o),function(){var e=r,t=o;if(y[e])for(var a=y[e].length-1;0<=a;a--)y[e][a]==t&&y[e].splice(a,1)};throw new TypeError("Channel not defined")},publish:function(e,t){if(!(e=(e||"").toString()))throw new TypeError("Channel not defined");e=e,t=t,u.__yaJsStorage_meta||(u.__yaJsStorage_meta={}),u.__yaJsStorage_meta.PubSub||(u.__yaJsStorage_meta.PubSub=[]),u.__yaJsStorage_meta.PubSub.unshift([+new Date,e,t]),h(),J()},reInit:function(){f()},noConflict:function(e){return delete window.$.yaJsStorage,e&&(window.yaJsStorage=this),this}});if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),e=!0,window.localStorage.removeItem("_tmptest")}catch(e){}if(e)try{window.localStorage&&(i=window.localStorage,_="localStorage",S=i.yaJsStorage_update)}catch(e){}else if("globalStorage"in window)try{window.globalStorage&&(i="localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],_="globalStorage",S=i.yaJsStorage_update)}catch(e){}else{if(!(c=document.createElement("link")).addBehavior)return c=null;c.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(c);try{c.load("yaJsStorage")}catch(e){c.setAttribute("yaJsStorage","{}"),c.save("yaJsStorage"),c.load("yaJsStorage")}e="{}";try{e=c.getAttribute("yaJsStorage")}catch(e){}try{S=c.getAttribute("yaJsStorage_update")}catch(e){}i.yaJsStorage=e,_="userDataBehavior"}n(),p(),"localStorage"==_||"globalStorage"==_?"addEventListener"in window?window.addEventListener("storage",a,!1):document.attachEvent("onstorage",a):"userDataBehavior"==_&&setInterval(a,1e3),b(),"addEventListener"in window&&window.addEventListener("pageshow",function(e){e.persisted&&a()},!1)}();
/**! jQuery Musketeer
 * Single Page Multilingual Content Manager
 * @author @peter-power-594
 * @license MIT LICENSE https://github.com/peter-power-594/jquery-musketeer/blob/master/LICENSE
 */
!function(t,n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):t.musketeer=n(t.jQuery)}(this,function(w){function t(t){this.init()}function s(t){t=t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0];return w("<head />").html(w.parseHTML(t,document,!0))}return w.parseJSON||(w.parseJSON=function(t){var n;try{n=JSON.parse(t)}catch(t){window.console&&window.console.log&&window.console.log(t),n=null}return n}),t.defaults={debug:"0",i18n:{},barbajs:{head:["meta[name='keywords']","meta[name='description']","meta[property^='og']","meta[name^='twitter']","meta[itemprop]","link[itemprop]","link[rel='prev']","link[rel='next']","link[rel='canonical']","script[ lang ]"].join(",")}},t.prototype.log=function(){},t.prototype.init=function(){var n=this;w(document).ready(function(){var t=w("#musketeer-options");t.length?n.options=w.extend(!0,n.constructor.defaults,w.parseJSON(t.html())):n.options?n.options=w.extend(!0,n.constructor.defaults,n.options):n.options=n.constructor.defaults,n.options.debug=parseInt(n.options.debug||0,10),!isNaN(n.options.debug)&&0<n.options.debug&&(n.log=function(t,n){1===arguments.length?window.console&&window.console.log&&window.console.log("jQuery Musketeer: "+t):window.console&&window.console[t]&&window.console[t]("jQuery Musketeer: "+n)}),n.lang=w.yaJsStorage.get("lang",n.options.i18n.base),n.getRemoteData(function(){n.i18n()}),n.pjaxify()})},t.prototype.url2path=function(t){t=(t||"").replace([window.location.protocol,"//",window.location.host].join(""),"");return t=(t=t.replace(/\?.*/,"")).replace(/#.*/,"")},t.prototype.urlfaker=function(t){var n=this,e=(n.log("info","urlfaker("+(t||"")+")"),window.location.protocol,window.location.host),a=window.location.pathname,o=window.location.search,i=window.location.hash;return t?(a=n.url2path(t),o=/\?/.test(t)?"?"+t.split("?")[1].split("#")[0]:"",i=/#/.test(t)?"#"+t.split("#")[1]:""):t=document.location.href,w.each(n.options.i18n.langs,function(){a=a.replace(new RegExp("^/"+this.toString()+"/"),"/")}),/lang/.test(o||"")&&(o=o.replace(/lang\=[a-zA-Z-_]+/,"")).length<2&&(o=""),-1<w.inArray((i||"").replace("#",""),n.options.i18n.langs)&&(i=""),n.lang!==n.options.i18n.base&&(e+="/"+n.lang),t=[window.location.protocol,"//",e,a,o,i].join(""),n.log("The following url was generated:"+t),t},t.prototype.urlunfaker=function(){var t=this,n=(t.log("info","urlunfaker()"),window.location.protocol),e=window.location.host,a=window.location.pathname,o=window.location.search,i=window.location.hash;return w.each(t.options.i18n.langs,function(){var t=this.toString(),n=new RegExp("^/"+t+"/");if(n.test(a))return a=a.replace(n,"/"),o.length?o+="&lang="+t:o="?lang="+t,!0}),n=[n,"//",e,a,o,i].join(""),t.log("The following url was generated:"+n),n},t.prototype.triggerLang=function(t){w(this.options.i18n.menu).find("a[ lang='"+t+"' ],a[ hreflang='"+t+"' ]").trigger("click")},t.prototype.pjaxify=function(){var r=this,l=document.documentElement||{};if(!window.Barba||!this.options.barbajs)return!1;Barba.Pjax.cacheEnabled=!1;var o="",i=(Barba.Pjax.getCurrentUrl=function(){return o},!(Barba.Pjax.goTo=function(t){r.log("info","Barbar.Pjax.goTo("+t+")"),o=t,Barba.Pjax.onStateChange(),window.history.pushState(null,null,r.urlfaker(t))}));Barba.Dispatcher.on("linkClicked",function(t,n){i=!0}),Barba.Pjax.originalOnStateChange=Barba.Pjax.onStateChange,Barba.Pjax.onStateChange=function(){if(i)Barba.Pjax.originalOnStateChange.call(this),i=!1;else{r.log("warn","URL requested from browser back / next buttons");var n=window.location.pathname.replace(/index\.\w+$/,""),e=r.url2path(o).replace(/index\.\w+$/,""),a=0;if(n===e)return r.triggerLang(r.options.i18n.base);w.each(r.options.i18n.langs,function(){var t=new RegExp("^/"+this.toString()+"/");if(t.test(n)&&new RegExp(n.replace(t,"/"))===e)return a=1,r.triggerLang(this.toString()),!1}),0<a||(Barba.Dispatcher.trigger("linkClicked"),o=r.urlunfaker(),Barba.Pjax.onStateChange())}},Barba.Pjax.originalPreventCheck=Barba.Pjax.preventCheck,Barba.Pjax.preventCheck=function(t,n){return!!Barba.Pjax.originalPreventCheck(t,n)&&!/\.(pdf|jpg|jpeg|gif|png|webp|tiff|bmp|mov|webm)/.test(n.href.toLowerCase())},Barba.Pjax.start(),Barba.Dispatcher.on("newPageReady",function(t,n,e,a){var a=s(a),o=r.options.barbajs.head,i=(w("head").find(o).remove(),a.find(o).appendTo("head"),l.lang||"en");r.getRemoteData(function(){r.triggerLang(i)}),window.ga&&window.ga("send","pageview",window.location.pathname+window.location.search)}),Barba.Dispatcher.on("transitionCompleted",function(t,n){w(document).trigger("musketeer:page_loaded")})},t.prototype.i18n=function(){var d,p,u,n,e,t;return!!(this.options&&this.options.i18n&&this.options.i18n.langs&&this.options.i18n.langs.length)&&(d=function(){if(!window.Barba)return!0;var t=w("."+Barba.Pjax.Dom.containerClass),n=window.twttr||!1,e=window.FB||!1,a=window.gapi||!1;n&&n.widgets&&n.widgets.load(t[t.length-1]),e&&e.XFBML&&e.XFBML.parse(t[t.length-1]),a&&a.plusone&&a.plusone.go()},p=this,(u=document.documentElement||{}).lang=u.lang||"en",n=function(t){p.log("info","Switching Language to "+t),w(document).trigger("musketeer:ready"),p.lang=(t||"").replace(/_.*$/,""),w.yaJsStorage.set("lang",t);var n=w("body"),e=w(u),e=(e.hasClass(p.lang)||(e.removeClass(u.lang),u.lang=p.lang,e.addClass(p.lang)),p.urlfaker()),e=(e!==document.location.href&&window.history&&window.history.pushState&&window.history.pushState(null,null,e),w("#head-"+t));if(e.length){var a,o=w.parseJSON(e.html()),i=w("head");for(a in w("head").find(p.options.barbajs.head).filter(":not( script )").remove(),o)if(o.hasOwnProperty(a))if(/title/.test(a))document.title=o[a];else for(var r,l,s=o[a],c=0,g=s.length;c<g;c++){for(var h in r="<"+a,l=s[c])r+=" "+h+'="'+l[h]+'"';r+=">",i.append(r)}}w.each(p.options.i18n.langs,function(){(t=this.toString())!==p.lang&&n.find(p.options.i18n.selector.replace("%lang",t)).each(function(){var t=w(this);t.length&&!/script/.test((t[0].tagName||"").toLowerCase())&&(w(this).children().length&&w(this).data("cached",w(this).html()),w(this).empty().css("display","none"))})}),n.find(p.options.i18n.selector.replace("%lang",p.lang)).each(function(){var t,n=w(this);n.length&&(/script/.test((n[0].tagName||"").toLowerCase())?(t=w.parseJSON(n.html()))&&t.id&&t.content&&w("#"+t.id).html(t.content).data("cached",null):!n.children().length&&n.data("cached")&&n.html(n.data("cached")).css("display","block").data("cached",null))}),d(),w(document).trigger("musketeer:complete")},this.options.i18n.menu&&(e=w(this.options.i18n.menu)).on("click","a",function(t){t.preventDefault(),n(w(this).attr("hreflang")||w(this).attr("lang")),e.find(".ui-state-active").removeClass("ui-state-active"),w(this).addClass("ui-state-active")}),t=[],void((t=/lang/.test(document.location.href)?document.location.href.match(/lang\=([a-zA-Z_-]+)/):window.location.hash&&1<window.location.hash.length?window.location.hash.match(/\#([a-zA-Z_-]+)/):window.location.pathname.match(/^\/([a-zA-Z_-]+)\//))&&t.length&&t[1]&&-1<w.inArray(t[1],this.options.i18n.langs)?p.triggerLang(t[1]):n(w.yaJsStorage.get("lang",u.lang))))},t.prototype.getRemoteData=function(o){var i=this,t=w("[data-remote]"),r=t.length;if(r<1)return o&&"function"==typeof o&&o(),1;t.each(function(){var t,n,e=w(this),a=e.attr("id")||!1;a?(t=function(t){r--,e.html(w((n=(n=t).match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0],w("<div />").html(w.parseHTML(n,document,!0)))).find("#"+a).html());var n=w(s(t)).find("script[lang]");n.length&&(w("#"+n.attr("id")).remove(),w("head").append(n)),r<1&&o&&"function"==typeof o&&o()},n=function(t){i.log(t.message)},window.Barba?Barba.Utils.xhr(e.attr("data-remote")).then(t,n):w.ajax({url:e.attr("data-remote"),success:t,error:n}),e.removeAttr("data-remote")):(i.log("warn","Missing id attribute on el"+e),e.remove())})},new t});